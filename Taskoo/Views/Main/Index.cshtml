
@{
    Layout = "~/Views/Shared/GeneralLayout.cshtml";

    ViewBag.ViewName = "Main";
}

<div>

    <div id="tasks-container" class="col-lg-10 col-md-10 col-sm-10 col-xs-12 col-lg-offset-1 col-md-offset-1 col-sm-offset-1">
        
        @{
            foreach (var task in ViewBag.Tasks)
            {
                <div class="task-container col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <a href="@Url.Action("Index", "EditTask", new { taskId = task.taskId})">
                        <div class="task">
                            <div class="task-priority">
                                <img src="~/Assets/icons/@{if (task.Priority == 'g') { @("green-triangle") } else { @(task.Priority == 'y' ? "yellow-triangle" : "red-triangle") } }.png" class="img-responsive" />
                            </div>

                            <div class="task-title">
                                @task.Title
                            </div>

                            <div class="task-date-time">
                                @task.Time
                                <br />
                                @task.Date
                            </div>

                            <div class="task-description">
                                <span>
                                    @task.Description
                                </span>
                            </div>

                            <div class="task-controls">
                                <img class="task-check @(task.IsFinishedTask ? "task-highlighted-icon" : "") task-transparent-icon img-responsive" src="~/Assets/icons/check.png" />
                                <img class="task-close img-responsive" src="~/Assets/icons/close.png" />
                            </div>
                        </div>
                    </a>
                </div>
            }
        }

    </div>

    <nav id="task-menu" class="col-lg-4 col-md-4 col-sm-8 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-2">
        <div class="task-button-container col-lg-6 col-md-6 col-sm-6 col-xs-12">
            <a href="@Url.Action("Index", "AllTasks", new { priority = "a"})">
                <div class="task-button">
                    View more
                </div>
            </a>
        </div>

        <div class="task-button-container col-lg-6 col-md-6 col-sm-6 col-xs-12">
            <a href="@Url.Action("Index", "CreateTask")">
                <div class="task-button">
                    New
                </div>
            </a>
        </div>
    </nav>
</div>
